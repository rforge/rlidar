{
    "contents" : "for (i in 1:nrow(data)) {\nPlotSTrees(\"halfellipsoid\",col=col[i], nz=10, nalpha=10,data[i,4]*0.8,data[i,5],data[i,2],data[i,3],data[i,7],data[i,4]*0.2,data[i,4])\n}\ncol<-sample(c(\"red\",\"darkolivegreen\",\"forestgreen\"),70,T)\nfor (i in 1:nrow(data)) {\nPlotSTrees(\"halfellipsoid\",col=col[i], nz=10, nalpha=10,data[i,4]*0.8,data[i,5],data[i,2],data[i,3],data[i,7],data[i,4]*0.2,data[i,4])\n}\nplotDTM(dtm,col=\"gray\", alpha=0.7, aspect=c(1,1,0.01))\ncol<-sample(c(\"red\",\"darkolivegreen\",\"forestgreen\"),70,T)\nfor (i in 1:nrow(data)) {\nPlotSTrees(\"halfellipsoid\",col=col[i], nz=10, nalpha=10,data[i,4]*0.8,data[i,5],data[i,2],data[i,3],data[i,7],data[i,4]*0.2,data[i,4])\n}\nplotDTM(dtm,col=\"gray\", alpha=0.7, aspect=c(1,1,0.01))\nfor (i in 1:nrow(data)) {\nPlotSTrees(\"cone\",col=col[i], nz=10, nalpha=10,data[i,4]*0.8,data[i,5],data[i,2],data[i,3],data[i,7],data[i,4]*0.2,data[i,4])\n}\naxes3d(c(\"x-\", \"y-\",\"z-\"), col=\"gray\")\ntitle3d(xlab = \"UTM.Easting\", ylab = \"UTM.Northing\", col=\"black\")\nplanes3d(a=0,b=0,c=-1,d=0.0001,color=\"gray\",alpha=1)\naspect3d(1,1,0.5)\nrequire(shiny)\nrunApp(\"C:\\\\00_ForestCAS\\\\05_LiDARplot3d\")\nlibrary(shinyRGL)\nrunApp(\"C:\\\\00_ForestCAS\\\\05_LiDARplot3d\")\nlibrary(shinyGridster)\nlibrary(ShinyDash)\nrunApp(\"C:\\\\00_ForestCAS\\\\05_LiDARplot3d\")\nrunApp(\"C:\\\\00_ForestCAS\\\\00_ForestCAS\\\\05_LiDARplot3d\")\nlibrary(shinyIncubator)\nrunApp(\"C:\\\\00_ForestCAS\\\\00_ForestCAS\\\\05_LiDARplot3d\")\nrunApp(\"C:\\\\00_ForestCAS\\\\00_ForestCAS\\\\05_LiDARplot3d\")\nrunApp(\"C:\\\\00_ForestCAS\\\\00_ForestCAS\\\\05_LiDARplot3d\")\nrunApp(\"C:\\\\00_ForestCAS\\\\00_ForestCAS\\\\05_LiDARplot3d\")\nrunApp(\"C:\\\\00_ForestCAS\\\\00_ForestCAS\\\\05_LiDARplot3d\")\nrunApp(\"C:\\\\00_ForestCAS\\\\00_ForestCAS\\\\05_LiDARplot3d\")\nrunApp(\"C:\\\\00_ForestCAS\\\\00_ForestCAS\\\\05_LiDARplot3d\")\nrunApp(\"C:\\\\00_ForestCAS\\\\00_ForestCAS\\\\05_LiDARplot3d\")\nrunApp(\"C:\\\\Users\\\\Carlos\\\\Documents\\\\LiDARTreeTop\")\nrunApp(\"C:\\\\Users\\\\Carlos\\\\Documents\\\\LiDARTreeShape\")\nrunApp(\"C:\\\\Users\\\\Carlos\\\\Documents\\\\LiDARTreeShape\")\nrunApp(\"C:\\\\Users\\\\Carlos\\\\Documents\\\\LiDARTreeShape\")\nrunApp(\"C:\\\\Users\\\\Carlos\\\\Documents\\\\LiDARTreeShape\")\nrunApp(\"C:\\\\Users\\\\Carlos\\\\Documents\\\\LiDARTreeShape\")\nrunApp(\"C:\\\\Users\\\\Carlos\\\\Documents\\\\LiDARTreeShape\")\nrunApp(\"C:\\\\Users\\\\Carlos\\\\Documents\\\\LiDARTreeShape\")\nrunApp(\"C:\\\\Users\\\\Carlos\\\\Documents\\\\LiDARTreeShape\")\nrunApp(\"C:\\\\Users\\\\Carlos\\\\Documents\\\\LiDARTreeShape\")\nrunApp(\"C:\\\\Users\\\\Carlos\\\\Documents\\\\LiDARTreeShape\")\nrunApp(\"C:\\\\Users\\\\Carlos\\\\Documents\\\\LiDARTreeShape\")\nrunApp(\"C:\\\\Users\\\\Carlos\\\\Documents\\\\LiDARTreeShape\")\nrunApp(\"C:\\\\Users\\\\Carlos\\\\Documents\\\\LiDARTreeShape\")\nrunApp(\"C:\\\\Users\\\\Carlos\\\\Documents\\\\LiDARTreeShape\")\nrunApp(\"C:\\\\Users\\\\Carlos\\\\Documents\\\\LiDARTreeShape\")\nrunApp(\"C:\\\\Users\\\\Carlos\\\\Documents\\\\LiDARTreeShape\")\nrunApp(\"C:\\\\Users\\\\Carlos\\\\Documents\\\\LiDARTreeShape\")\nrunApp(\"C:\\\\Users\\\\Carlos\\\\Documents\\\\LiDARTreeShape\")\nrunApp(\"C:\\\\Users\\\\Carlos\\\\Documents\\\\LiDARTreeShape\")\nrunApp(\"C:\\\\Users\\\\Carlos\\\\Documents\\\\LiDARTreeShape\")\ntree.data<-matrix(ncol=5,nrow=25)\ntree.data\nrep(1:5,5)\nrep(5,5)\ntree.data[,1] <-rep(1:5,5)\ntree.data[,2] <-c(rep(1,5),rep(2,5),rep(3,5),rep(4,5),rep(5,5))\ntree.data\ncolnames(tree.data)<-c(\"X\",\"Y\",\"HCB\",\"CL\",\"CW\",\"DHB\",\"SHAPE\",\"CCOLOR\",\"TCOLOR\",\"TRANS\")\ntree.data[,1] <-rep(1:5,5)\ntree.data[,2] <-c(rep(1,5),rep(2,5),rep(3,5),rep(4,5),rep(5,5))\ncolnames(tree.data)<-c(\"X\",\"Y\",\"HCB\",\"CL\",\"CW\",\"DHB\",\"SHAPE\",\"CCOLOR\",\"TCOLOR\",\"TRANS\")\ntree.data<-matrix(ncol=10,nrow=25)\ncolnames(tree.data)<-c(\"X\",\"Y\",\"HCB\",\"CL\",\"CW\",\"DHB\",\"SHAPE\",\"CCOLOR\",\"TCOLOR\",\"TRANS\")\ntree.data[,1] <-rep(1:5,5)\ntree.data[,2] <-c(rep(1,5),rep(2,5),rep(3,5),rep(4,5),rep(5,5))\ntree.data[,3] <-sample(1,30,25)\ntree.data[,3] <-sample(1:30,25)\ntree.data\ntree.data[,3] <-sample(15:30,25)\ntree.data[,1] <-rep(1:5,5)\ntree.data[,2] <-c(rep(1,5),rep(2,5),rep(3,5),rep(4,5),rep(5,5))\ntree.data[,3] <-sample(15:30,25)\ntree.data[,3] <-sample(15:30,25, T)\ntree.data\ntree.data[,3] <-sample(10:20,25, T)\ntree.data[,4] <-tree.data[,3]*0.3\ntree.data\ntree.data[,6] <-rep(\"halfellipsoid\",25)\nrunApp(\"C:\\\\Users\\\\Carlos\\\\Documents\\\\LiDARTreeShape\")\nas.numeric(factor(rep(\"halfellipsoid\",25))\n)\nas.numeric(factor(rep(\"halfellipsoid\",25)))\nas.numeric(rep(\"halfellipsoid\",25))\nfactor(rep(\"halfellipsoid\",25))\nrunApp(\"C:\\\\Users\\\\Carlos\\\\Documents\\\\LiDARTreeShape\")\ntree.data<-matrix(ncol=10,nrow=25)\ncolnames(tree.data)<-c(\"X\",\"Y\",\"HCB\",\"CL\",\"CW\",\"DHB\",\"SHAPE\",\"CCOLOR\",\"TCOLOR\",\"TRANS\")\ntree.data[,1] <-rep(1:5,5)\ntree.data[,2] <-c(rep(1,5),rep(2,5),rep(3,5),rep(4,5),rep(5,5))\ntree.data[,3] <-sample(10:20,25, T)\ntree.data[,4] <-tree.data[,3]*0.3\ntree.data[,5] <-tree.data[,3]*0.3\ntree.data[,6] <-rep(0.4,25)\ntree.data[,7] <-factor(rep(\"halfellipsoid\",25))\ntree.data[,8] <-factor(rep(\"forestgreen\",25))\ntree.data[,9] <-factor(rep(\"chocolate4\",25))\ntree.data[,10] <-rep(1,25)\ntree.data\nrunApp(\"C:\\\\Users\\\\Carlos\\\\Documents\\\\LiDARTreeShape\")\nrunApp(\"C:\\\\Users\\\\Carlos\\\\Documents\\\\LiDARTreeShape\")\nrunApp(\"C:\\\\Web-LiDAR\\\\LiDARstandPine3D\")\nrunApp(\"C:\\\\Web-LiDAR\\\\LiDARstandPine3D\")\nrunApp(\"C:\\\\Web-LiDAR\\\\LiDARpine3D\")\nrunApp(\"C:\\\\Web-LiDAR\\\\LiDARtrees3D\")\nrunApp(\"C:\\\\Web-LiDAR\\\\LiDARLASmetrics\")\nrunApp(\"C:\\\\Web-LiDAR\\\\LiDARtrees3D\")\nklj\nmMatrix\nz\nkljzbase=subset(klj,klj[,3]==z[2])\nkljzbase\nkljzbaseNew<-matrix(,ncol=3)[-1,]\nfor ( i in 1:nrow(klj)){\nkljzbaseNew<-rbind(kljzbaseNew,rbind(kljzbase,x0,y0,z0))\n}\nkljzbaseNew\nkljzbase=subset(klj,klj[,3]==z[2])\nkljzbaseNew<-matrix(,ncol=3)[-1,]\nfor ( i in 1:nrow(klj)){\nkljzbaseNew<-rbind(kljzbaseNew,rbind(kljzbase[i,],c(x0,y0,z0)))\n}\nkljzbase=subset(klj,klj[,3]==z[2])\nkljzbaseNew<-matrix(,ncol=3)[-1,]\nfor ( i in 1:nrow(kljzbase)){\nkljzbaseNew<-rbind(kljzbaseNew,rbind(kljzbase[i,],c(x0,y0,z0)))\n}\nkljzbaseNew\nrunApp(\"C:\\\\Web-LiDAR\\\\LiDARtrees3D\")\nrunApp(\"C:\\\\Web-LiDAR\\\\LiDARtrees3D\")\ntree.data\nrunApp(\"C:\\\\Web-LiDAR\\\\LiDARtrees3D\")\nLiDARinput\nxRange<-range(LiDARinput[,1])\nyRange<-range(LiDARinput[,2])\nxRanged<-xRange[2]-xRange[1]\nyRanged<-yRange[2]-yRange[1]\nLiDAR<-cbind(LiDARinput[,1]-xRanged,LiDARinput[,2]-yRanged,LiDARinput[,3:ncol(LiDARinput)])\nLiDAR\nxRanged\nrunApp(\"C:\\\\Web-LiDAR\\\\LiDARtrees3D\")\nxRangeTree<-range(tree.dataInput[,1])\nxRangeTree\nyRangeTree<-range(tree.dataInput[,2])\nxRangedTree<-xRangeTree[2]-xRangeTree[1]\nyRangedTree<-yRangeTree[2]-yRangeTree[1]\n(tree.dataInput[,1]+xRangedTree)-xRangeTree[1]\n(tree.dataInput[,2]+yRangedTree)-yRangeTree[1]\ntree.dataInput[,3:ncol(tree.dataInput)]\nxRange<-range(LiDARinput[,1])\nyRange<-range(LiDARinput[,2])\nxRanged<-xRange[2]-xRange[1]\nyRanged<-yRange[2]-yRange[1]\n(LiDARinput[,1]+xRanged)-xRange[1]\n(LiDARinput[,2]+yRanged)-yRange[1]\nyRanged\nplot3d(tree.data[,1:3])\ntree.data<-cbind((tree.dataInput[,1]+xRangedTree)-xRangeTree[1],(tree.dataInput[,2]+yRangedTree)-yRangeTree[1],tree.dataInput[,3:ncol(tree.dataInput)])\nplot3d(tree.data[,1:3])\nxRangeTree<-range(tree.dataInput[,1])\nyRangeTree<-range(tree.dataInput[,2])\ntree.data<-cbind((tree.dataInput[,1]-xRangeTree[1],(tree.dataInput[,2]-yRangeTree[1],tree.dataInput[,3:ncol(tree.dataInput)])\ntree.data<-cbind(tree.dataInput[,1]-xRangeTree[1],tree.dataInput[,2]-yRangeTree[1],tree.dataInput[,3:ncol(tree.dataInput)])\nplot3d(tree.data[,1:3])\nrequire(rgl)\nplot3d(tree.data[,1:3])\nxRange<-range(LiDARinput[,1])\nyRange<-range(LiDARinput[,2])\nLiDAR<-cbind((LiDARinput[,1]-xRange[1],(LiDARinput[,2]-yRange[1],LiDARinput[,3:ncol(LiDARinput)])\nplot3d(LiDAR[,1:3])\nrequire(shiny)\nrunApp(\"C:\\\\Web-LiDAR\\\\LiDARtrees3D\")\nrunApp(\"C:\\\\Web-LiDAR\\\\LiDARtrees3D\")\n?plot3d\nrunApp(\"C:\\\\Web-LiDAR\\\\LiDARtrees3D\")\nrunApp(\"C:\\\\Web-LiDAR\\\\LiDARtrees3D\")\nxRange-xrangeTree\nrunApp(\"C:\\\\Web-LiDAR\\\\LiDARtrees3D\")\nrunApp(\"C:\\\\Web-LiDAR\\\\LiDARtrees3D\")\nxRange-xRangeTree\nxRange<-range(LiDARinput[,1])\nyRange<-range(LiDARinput[,2])\nxRangeTree<-range(tree.dataInput[,1])\nyRangeTree<-range(tree.dataInput[,2])\nxRange[1]-xRangeTree[1]\nrunApp(\"C:\\\\Web-LiDAR\\\\LiDARtrees3D\")\nyRangeTree[1]-yRange[1]\nxRangeTree[1]-xRange[1]\nX<-tree.data[,1]+(xRangeTree[1]-xRange[1])\nrunApp(\"C:\\\\Web-LiDAR\\\\LiDARtrees3D\")\nHt\nHt\nX\nrunApp(\"C:\\\\Web-LiDAR\\\\LiDARtrees3D\")\nX\nY\nHt\nrunApp(\"C:\\\\Web-LiDAR\\\\LiDARtrees3D\")\ncolorpallet\nrunApp(\"C:\\\\Web-LiDAR\\\\LiDARtrees3D\")\ngetwd()\nwrite.table(cbind(LiDAR,colorpallet),\"C:\\Web-LiDAR\\LiDARtrees3D\\colorpallet.txt\")\nwrite.table(cbind(LiDAR,colorpallet),\"C:\\\\Web-LiDAR\\\\LiDARtrees3D\\\\colorpallet.txt\")\nwrite.table(cbind(LiDAR,colorpallet),\"C:\\\\Web-LiDAR\\\\LiDARtrees3D\\\\colorpallet.txt\", row.names=F)\nX\nwrite.table(cbind(X,Y,Ht),\"C:\\\\Web-LiDAR\\\\LiDARtrees3D\\\\Example1Trees.txt\", row.names=F)\nrunApp(\"C:\\\\Web-LiDAR\\\\LiDARtrees3D\")\nrunApp(\"C:\\\\Web-LiDAR\\\\LiDARtrees3D\")\nrunApp(\"C:\\\\Web-LiDAR\\\\LiDARtreesModel3D\")\nind=readOGR(dsn=file.choose(),layer='IND_2012')\n#to assign a projection, use spTransform(shapefile, CRS) where CRS is a specific map projection\n#you can find the specific codes for different projections at www.spatialreference.org/ref\nind_utm=spTransform(ind, CRS('+init=epsg:26916'))\nind_queen=poly2nb(ind_utm, queen=T)\nrequire(rgdal)\ninstall.packages(\"spdep\")\nind_queen=poly2nb(ind_utm, queen=T)\nrequire(spdep)\n?poly2nb\n??poly2nb\nrequire(spdep)\ninstall.packages(\"spdep\")\nlibrary(\"spdep\", lib.loc=\"C:/Program Files/R/R-3.0.2/library\")\nind_queen=poly2nb(ind_utm, queen=T)\ncoords=coordinates(ind_utm)\nplot(ind_utm)\nplot(ind_queen, coords, add=T)\nind_queen\ncoords\ntext(505034, 4170243, labels=\"Queen's case\")\nind_queen=poly2nb(ind_utm, queen=F)\ncoords=coordinates(ind_utm)\nplot(ind_utm)\nplot(ind_queen, coords, add=T)\nind_rook=poly2nb(ind_utm, queen=F)\ncoords=coordinates(ind_utm)\nplot(ind_utm)\nplot(ind_rook, coords, add=T)\nplot(ind_rook, coords, add=T, axes=T)\nplot(ind_rook, coords, add=T, box=T)\n?plot\nplot(ind_rook, coords, add=T, box=T)\naxis(2, at=x,labels=x, col.axis=\"red\", las=2)\naxis(2, at=coord[,1],labels=coord[,1], col.axis=\"red\", las=2)\naxis(2, at=coords[,1],labels=coords[,1], col.axis=\"red\", las=2)\naxis(, at=coords[,1],labels=coords[,1], col.axis=\"red\", las=2)\naxis(1, at=coords[,1],labels=coords[,1], col.axis=\"red\", las=2)\nplot(ind_rook, coords, add=T, axis=T)\nplot(ind_utm)\nplot(ind_rook, coords, add=T, axis=T)\nplot(ind_utm,axis=T)\nplot(ind_rook, coords)\nplot(ind_rook, coords, add=T)\nplot(ind_utm,axis=T)\nplot(ind_rook, coords, add=T)\nplot(ind_utm,axes=T)\nplot(ind_rook, coords, add=T)\ntext(505034, 4170243, labels=\"Rook’s case\")\nsummary(ind_queen)\nsummary(ind_queen)\nsummary(ind_rook)\nind_rook=poly2nb(ind_utm, queen=F)\ncoords=coordinates(ind_utm)\nplot(ind_utm,axes=T)\nplot(ind_rook, coords, add=T)\ntext(505034, 4170243, labels=\"Rook’s case\")\nsummary(ind_rook)\nsummary(ind_queen)\nind_rook=poly2nb(ind_utm, queen=F)\ncoords=coordinates(ind_utm)\nplot(ind_utm,axes=T)\nplot(ind_rook, coords, add=T)\ntext(505034, 4170243, labels=\"Rook’s case\")\nsummary(ind_rook)\nind_queen=poly2nb(ind_utm, queen=T)\nsummary(ind_queen)\nPlotd<-cbind( c(2,  3,   4,   5,    6,   7,   8,  9),\nc(1, 13, 13, 25, 24, 1,1  4,  1),\nc(2, 16,  9, 28, 24,  9,  3,  1 )\nPlotd<-cbind( c(2,  3,   4,   5,    6,   7,   8,  9),\nc(1, 13, 13, 25, 24, 1,1  4,  1),\nc(2, 16,  9, 28, 24,  9,  3,  1 ))\nPlotd<-cbind(c(2,3,4,5,6,7,8,9),\nc(1,13,13,25,24,1,1,4,1),\nc(2,16,9,28,24, 9,3,1))\nPlotd<-cbind(c(2,3,4,5,6,7,8,9),\nc(1,13,13,25,24,11,4,1),\nc(2,16,9,28,24, 9,3,1))\nPlotd\nplot(Plotd[,1:2], type=\"l\")\nplot(Plotd[,1],Plotd[,3], type=\"l\", add=T)\nplot(cbind(Plotd[,1],Plotd[,3]), type=\"l\", add=T)\nplot(cbind(Plotd[,1],Plotd[,3]), col=\"red\",type=\"l\", add=T)\nplot(Plotd[,1:2], type=\"l\")\nplot(cbind(Plotd[,1],Plotd[,3]), col=\"red\",type=\"l\", add=T)\ndat <- matrix(runif(40,1,20),ncol=4) # make data\ndat\nmatplot(Plotd, type = c(\"b\"),pch=1,col = 1:2) #plot\nmatplot(Plotd[,2:3], type = c(\"b\"),pch=1,col = 1:2) #plot\nlegend(\"topleft\", legend = 1:2, col=1:2, pch=1) # optional legend\nmatplot(Plotd[,2:3],xlab=\"Number of links\",ylab=\"Number of counties\", type = c(\"b\"),pch=1,col = 1:2) #plot\nlegend(\"topleft\", legend = c(\"Queen's case\",\"Rook’s case\"), col=1:2, pch=1) # optional legend\nind_rook=poly2nb(ind_utm, queen=F)\ncoords=coordinates(ind_utm)\nplot(ind_utm,axes=T)\nplot(ind_rook, coords, add=T)\ntext(505034, 4170243, labels=\"Rook’s case\")\noptions(scipen=10)\nind_rook=poly2nb(ind_utm, queen=F)\ncoords=coordinates(ind_utm)\nplot(ind_utm,axes=T)\nplot(ind_rook, coords, add=T)\ntext(505034, 4170243, labels=\"Rook’s case\")\nplot(ind_rook, coords,col=c(\"red\",\"blue\") add=T)\nplot(ind_rook, coords,col=c(\"red\",\"blue\"), add=T)\nplot(ind_utm,axes=T, col=\"blue\")\nplot(ind_utm,axes=T)\nplot(ind_rook, coords,col=\"red\", add=T)\ntext(505034, 4170243, labels=\"Rook’s case\")\nIDs=row.names(as(ind_utm, 'data.frame'))\nIDs\nind_k1=knn2nb(knearneigh(coords, k=1), row.names=IDs)\nplot(ind_utm)\nplot(ind_k1, coords, add=T)\ntext(505034, 4170243, labels=\"k=1 nearest neighbor\")\nplot(ind_utm, axes=T)\nplot(ind_k1, coords, add=T)\ntext(505034, 4170243, labels=\"k=1 nearest neighbor\")\nsummary(ind_k1)\nind_k2=knn2nb(knearneigh(coords, k=2), row.names=IDs)\nplot(ind_utm, axes=T)\nplot(ind_k2, coords, add=T)\ntext(505034, 4170243, labels=\"k=1 nearest neighbor\")\nsummary(ind_k1)\n#now we’ll use knn2nb to setup k=4\ntext(505034, 4170243, labels=\"k=2 nearest neighbor\")\nsummary(ind_k2)\n#now we’ll use knn2nb to setup k=4\nind_k4=knn2nb(knearneigh(coords, k=4), row.names=IDs)\nplot(ind_utm, axes=T)\nplot(ind_k4, coords, add=T)\ntext(505034, 4170243, labels=\"k=4 nearest neighbor\")\nsummary(ind_k4)\n#now we’ll use knn2nb to setup k=6\nind_k6=knn2nb(knearneigh(coords, k=6), row.names=IDs)\nplot(ind_utm, axes=T)\nplot(ind_k6, coords, add=T)\ntext(505034, 4170243, labels=\"k=6 nearest neighbor\")\nsummary(ind_k6)\nind_k4=knn2nb(knearneigh(coords, k=4), row.names=IDs)\nplot(ind_utm, axes=T)\nplot(ind_k4, coords, add=T)\ntext(505034, 4170243, labels=\"k=4 nearest neighbor\")\nsummary(ind_k4)\nind_k2=knn2nb(knearneigh(coords, k=2), row.names=IDs)\nplot(ind_utm, axes=T)\nplot(ind_k2, coords, add=T)\ntext(505034, 4170243, labels=\"k=2 nearest neighbor\")\nsummary(ind_k2)\n#now we’ll use knn2nb to setup k=4\nind_k4=knn2nb(knearneigh(coords, k=4), row.names=IDs)\nplot(ind_utm, axes=T)\nplot(ind_k4, coords, add=T)\ntext(505034, 4170243, labels=\"k=4 nearest neighbor\")\nsummary(ind_k4)\n#now we’ll use knn2nb to setup k=6\nind_k6=knn2nb(knearneigh(coords, k=6), row.names=IDs)\nplot(ind_utm, axes=T)\nplot(ind_k6, coords, add=T)\ntext(505034, 4170243, labels=\"k=6 nearest neighbor\")\nsummary(ind_k6)\nind_k2=knn2nb(knearneigh(coords, k=2), row.names=IDs)\nplot(ind_utm, axes=T)\nplot(ind_k2, coords, add=T, col=\"red\")\ntext(505034, 4170243, labels=\"k=2 nearest neighbor\")\nsummary(ind_k2)\nind_k4=knn2nb(knearneigh(coords, k=4), row.names=IDs)\nplot(ind_utm, axes=T)\nplot(ind_k4, coords, add=T, col=\"red\")\ntext(505034, 4170243, labels=\"k=4 nearest neighbor\")\nsummary(ind_k4)\nind_k6=knn2nb(knearneigh(coords, k=6), row.names=IDs)\nplot(ind_utm, axes=T)\nplot(ind_k6, coords, add=T, col=\"red\")\ntext(505034, 4170243, labels=\"k=6 nearest neighbor\")\nsummary(ind_k6)\ndist<-unlist(nbdists(ind_k1, coords))\ndist\nind_k1\npol <- readOGR(\".\", \"buildings\") # read the data using rgdal\nmax.dist=max(dist)\nmax.dist\nind_max.dist=dnearneigh(coords, d1=0, d2=max.dist, row.names=IDs)\nplot(ind_utm)\nplot(ind_utm, axes=T)\nplot(ind_max.dist, coords, add=T)\nplot(ind_max.dist, coords, add=T, col=\"red\")\ntext(505034, 4170243, labels=\"Distance = max.dist\")\nmax.dist=max(dist)\nind_max.dist75=dnearneigh(coords, d1=0, d2=max.dist*0.75, row.names=IDs)\nplot(ind_utm, axes=T)\nplot(ind_max.dist75, coords, add=T, col=\"red\")\ntext(505034, 4170243, labels=\"Distance = max.dist\")\ntext(505034, 4170243, labels=\"Distance = 75% of the max.dist\")\nind_max.dist125=dnearneigh(coords, d1=0, d2=max.dist*1.25, row.names=IDs)\nplot(ind_utm, axes=T)\nplot(ind_max.dist125, coords, add=T, col=\"red\")\ntext(505034, 4170243, labels=\"Distance = 125% of the max.dist\")\nmax(dist)\n(max(dist)*125)/100\nmax.dist*1.25\n(max(dist)*75)/100\nmax.dist*0.75\nind_max.dist125\nind_max.dist75=dnearneigh(coords, d1=0, d2=max.dist*0.75, row.names=IDs)\nplot(ind_utm, axes=T)\nplot(ind_max.dist75, coords, add=T, col=\"red\")\ntext(505034, 4170243, labels=\"Distance = 75% of the max.dist\")\nind_max.dist125=dnearneigh(coords, d1=0, d2=max.dist*1.25, row.names=IDs)\nplot(ind_utm, axes=T)\nplot(ind_max.dist125, coords, add=T, col=\"red\")\ntext(505034, 4170243, labels=\"Distance = 125% of the max.dist\")\nsummary(ind_max.dist75)\nind_max.dist125=dnearneigh(coords, d1=0, d2=max.dist*1.25, row.names=IDs)\nplot(ind_utm, axes=T)\nplot(ind_max.dist125, coords, add=T, col=\"red\")\ntext(505034, 4170243, labels=\"Distance = 125% of the max.dist\")\nsummary(ind_max.dist125)\npar(mfrow=c(1,3))\nwindows()\nind_k2=knn2nb(knearneigh(coords, k=2), row.names=IDs)\nplot(ind_utm, axes=T)\nplot(ind_k2, coords, add=T, col=\"red\")\ntext(505034, 4170243, labels=\"k=2 nearest neighbor\")\nsummary(ind_k2)\n#now we’ll use knn2nb to setup k=4\nind_k4=knn2nb(knearneigh(coords, k=4), row.names=IDs)\nplot(ind_utm, axes=T)\nplot(ind_k4, coords, add=T, col=\"red\")\ntext(505034, 4170243, labels=\"k=4 nearest neighbor\")\nsummary(ind_k4)\npar(mfrow=c(1,3))\nind_k2=knn2nb(knearneigh(coords, k=2), row.names=IDs)\nplot(ind_utm, axes=T)\nplot(ind_k2, coords, add=T, col=\"red\")\ntext(505034, 4170243, labels=\"k=2 nearest neighbor\")\nsummary(ind_k2)\n#now we’ll use knn2nb to setup k=4\nind_k4=knn2nb(knearneigh(coords, k=4), row.names=IDs)\nplot(ind_utm, axes=T)\nplot(ind_k4, coords, add=T, col=\"red\")\ntext(505034, 4170243, labels=\"k=4 nearest neighbor\")\nsummary(ind_k4)\n#now we’ll use knn2nb to setup k=6\nind_k6=knn2nb(knearneigh(coords, k=6), row.names=IDs)\nplot(ind_utm, axes=T)\nplot(ind_k6, coords, add=T, col=\"red\")\ntext(505034, 4170243, labels=\"k=6 nearest neighbor\")\nsummary(ind_k6)\ntitle(\"Neighbor constructs for k=2, k=4, and k=6\")\npar(mfrow=c(1,2))\nwindows()\nind_max.dist75=dnearneigh(coords, d1=0, d2=max.dist*0.75, row.names=IDs)\nplot(ind_utm, axes=T)\nplot(ind_max.dist75, coords, add=T, col=\"red\")\ntext(505034, 4170243, labels=\"Distance = 75% of the max.dist\")\nsummary(ind_max.dist75)\npar(mfrow=c(1,2))\nwindows()\nmax.dist=max(dist)\n# 75%\nind_max.dist75=dnearneigh(coords, d1=0, d2=max.dist*0.75, row.names=IDs)\nplot(ind_utm, axes=T)\nplot(ind_max.dist75, coords, add=T, col=\"red\")\ntext(505034, 4170243, labels=\"Distance = 75% of the max.dist\")\nsummary(ind_max.dist75)\n#125%\nind_max.dist125=dnearneigh(coords, d1=0, d2=max.dist*1.25, row.names=IDs)\nplot(ind_utm, axes=T)\nplot(ind_max.dist125, coords, add=T, col=\"red\")\ntext(505034, 4170243, labels=\"Distance = 125% of the max.dist\")\nsummary(ind_max.dist125)\npar(mfrow=c(1,2))\nwindows()\nind_max.dist75=dnearneigh(coords, d1=0, d2=max.dist*0.75, row.names=IDs)\nplot(ind_utm, axes=T)\nplot(ind_max.dist75, coords, add=T, col=\"red\")\ntext(505034, 4170243, labels=\"Distance = 75% of the max.dist\")\npar(mfrow=c(1,2))\nind_max.dist75=dnearneigh(coords, d1=0, d2=max.dist*0.75, row.names=IDs)\nplot(ind_utm, axes=T)\nplot(ind_max.dist75, coords, add=T, col=\"red\")\ntext(505034, 4170243, labels=\"Distance = 75% of the max.dist\")\nsummary(ind_max.dist75)\nind_max.dist125=dnearneigh(coords, d1=0, d2=max.dist*1.25, row.names=IDs)\nplot(ind_utm, axes=T)\nplot(ind_max.dist125, coords, add=T, col=\"red\")\ntext(505034, 4170243, labels=\"Distance = 125% of the max.dist\")\nrunApp(\"C:\\\\Web-LiDAR\\\\LiDARcanopyTree\")\nlibrary(ShinyDash)\nrunApp(\"C:\\\\Web-LiDAR\\\\LiDARcanopyTree\")\nlibrary(shinyGridster)\nrunApp(\"C:\\\\Web-LiDAR\\\\LiDARcanopyTree\")\nrunApp(\"C:\\\\Web-LiDAR\\\\LiDARcanopyTree\")\nrunApp(\"C:\\\\Web-LiDAR\\\\LiDARcanopyTree\")\n",
    "created" : 1415864843494.000,
    "dirty" : false,
    "encoding" : "UTF-8",
    "folds" : "",
    "hash" : "1517770378",
    "id" : "A4C40CBA",
    "lastKnownWriteTime" : 1414966073,
    "path" : "~/rLiDAR/rLiDAR/.Rhistory",
    "project_path" : ".Rhistory",
    "properties" : {
    },
    "source_on_save" : false,
    "type" : "r_history"
}